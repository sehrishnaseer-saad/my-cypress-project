{
  "stats": {
    "suites": 1,
    "tests": 1,
    "passes": 1,
    "pending": 0,
    "failures": 0,
    "start": "2025-09-24T07:17:55.521Z",
    "end": "2025-09-24T07:18:38.531Z",
    "duration": 43010,
    "testsRegistered": 1,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "822210b6-f6e9-4895-a8dc-8348d137baf9",
      "title": "",
      "fullFile": "cypress\\e2e\\validatemultiplecartproduct.cy.js",
      "file": "cypress\\e2e\\validatemultiplecartproduct.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "9ad766a7-0007-4638-bc2e-d31aad3c88a8",
          "title": "Validate cart subtotal on TazoFoods",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "should validate subtotal equals sum of (price × quantity) for all products",
              "fullTitle": "Validate cart subtotal on TazoFoods should validate subtotal equals sum of (price × quantity) for all products",
              "timedOut": null,
              "duration": 38331,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const products = [{\n  slug: '/products/mozzarella-block-1-kg',\n  qty: 1\n}, {\n  slug: '/products/cheddar-cheese-block-1-kg',\n  qty: 1\n}, {\n  slug: '/products/shredded-pizza-cheese-1-kg',\n  qty: 1\n}];\nlet calcSubtotal = 0;\ncy.wrap(null).then(() => {\n  return products.reduce((chain, product) => {\n    return chain.then(() => {\n      cy.log(`➡️ Visiting: ${product.slug}`);\n      return cy.visit(`https://www.tazofoods.com${product.slug}`).get('#Quantity-product-template', {\n        timeout: 10000\n      }).clear().type(product.qty.toString()).should('have.value', product.qty.toString())\n      // grab unit price from PDP\n      .get('.product__price', {\n        timeout: 10000\n      }).invoke('text').then(priceText => {\n        // Extract the first number from the string\n        const match = priceText.match(/\\d[\\d,]*/);\n        const unitPrice = match ? parseInt(match[0].replace(/,/g, ''), 10) : 0;\n        const lineTotal = unitPrice * product.qty;\n        calcSubtotal += lineTotal;\n        cy.log(`🧀 Product: ${product.slug}`);\n        cy.log(`   Raw Price Text: ${priceText}`);\n        cy.log(`   Parsed Unit Price: ${unitPrice}`);\n        cy.log(`   Quantity: ${product.qty}`);\n        cy.log(`   Line Total: ${lineTotal}`);\n        cy.log(`   Running Subtotal: ${calcSubtotal}`);\n      })\n      // add to cart\n      .get('.btn.product-form__cart-submit.btn--secondary-accent', {\n        timeout: 15000\n      }).click().then(() => {\n        cy.get('body').then($body => {\n          const continueSel = '.cart-popup__cta-link.btn.btn--secondary-accent';\n          if ($body.find(continueSel).length) {\n            cy.get(continueSel).should('be.visible').click();\n          }\n        });\n      });\n    });\n  }, Cypress.Promise.resolve());\n}).then(() => {\n  // Go to cart page and validate subtotal\n  cy.visit('https://www.tazofoods.com/cart');\n  cy.get('.cart-subtotal__price', {\n    timeout: 10000\n  }).invoke('text').then(subtotalText => {\n    // Extract first number (like 4,540)\n    const match = subtotalText.match(/\\d[\\d,]*/);\n    const displayedSubtotal = match ? parseInt(match[0].replace(/,/g, ''), 10) : 0;\n    cy.log(`🛒 Raw Subtotal Text: ${subtotalText}`);\n    cy.log(`🛒 Parsed Subtotal: ${displayedSubtotal}`);\n    const roundedCalc = Math.round(calcSubtotal);\n    const roundedDisplayed = Math.round(displayedSubtotal);\n    cy.log(`🧮 Final Calculated Subtotal: ${roundedCalc}`);\n    cy.log(`🛒 Displayed Subtotal: ${roundedDisplayed}`);\n    expect(roundedCalc, 'Subtotal should match sum of line totals').to.equal(roundedDisplayed);\n  });\n});",
              "err": {},
              "uuid": "6b4f2a4a-3c9c-46ee-afd1-2b6ac3133d2c",
              "parentUUID": "9ad766a7-0007-4638-bc2e-d31aad3c88a8",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "6b4f2a4a-3c9c-46ee-afd1-2b6ac3133d2c"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 38331,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.2.0"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "reportDir": "cypress\\reports\\.jsons",
        "overwrite": false,
        "html": false,
        "json": true,
        "charts": true
      },
      "version": "6.3.0"
    }
  }
}